<div class="row">
	<div class="col-md-12">
		<h3>Mailbox</h3>
	</div>
</div>

<div class="row">
	<div class="col-md-2 col-xs-12">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h5 class="panel-title">Accounts</h5>
			</div>
			
			<div class="panel-body">
				<div data-ng-repeat="a in accounts">
					<h6>{{a.name}}</h6>
					<ul>
						<li data-ng-repeat="f in a.folders"><a href="javascript:void('');" data-ng-click="getMessages(a, f)">{{f.name}}</a></li>
					</ul>
				</div>	
			</div>
		</div>
	</div>
	
	<div class="col-md-10 col-xs-12">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h5 class="panel-title">{{currentFolder}}</h5>
			</div>
			
			<div class="panel-body">
				<div id="message-overview" style="height:300px;overflow-y:scroll;">
					<table class="table table-striped table-condensed">
					<thead>
						<tr>
							<th>From</th>
							<th>Subject</th>
							<th>Eingang</th>
							<th>&nbsp;</th>
						</tr>
					</thead>
					<tbody>
						<tr data-ng-repeat="m in messages">
							<td><a href="javascript:void('');" data-ng-click="focusMessage(m)">{{m.from | senderFormat }}</a></td>
							<td>{{m.subject}}</td>
							<td>{{m.dateReceived|date:'dd.MM.yyyy HH:mm'}}</td>
							<td>
								<button class="btn btn-warning btn-sm"><span class="fa fa-bug"></span></button>
							</td>
						</tr>
					</tbody>
					</table>
				</div>
				<div class="message-details" style="padding-top:24px;">
					<strong>{{focusedMessage.subject}}</strong><br/>
					<div data-ng-repeat="p in focusedMessage.parts">
						<div data-ng-if="p.contentType.indexOf('text/plain') >= 0">
							<textarea data-ng-model="p.content" rows="10" class="form-control" readonly></textarea>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>